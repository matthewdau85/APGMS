---
title: PAYG-W Calculation API
---

The tax engine exposes a JSON API for withholding calculations that powers the console and background services.

## Endpoint

- **POST `/tax/paygw/calc`** â€” Calculate withholding and net amount for a pay cycle.

## Request body

```json
{
  "method": "formula_progressive",
  "period": "weekly",
  "gross": 2000,
  "percent": 0.2,
  "extra": 0,
  "regular_gross": 2000,
  "bonus": 0,
  "tax_free_threshold": true,
  "stsl": false,
  "target_net": null
}
```

All properties are optional except `gross`. The engine defaults the `period` to `weekly` and sets `regular_gross` to `gross` when not provided. Use `target_net` only with the `net_to_gross` method.

## Response

The service returns the computed withholding, gross, and net plus the active rules metadata for the selected period.

```json
{
  "result": {
    "method": "formula_progressive",
    "gross": 2000,
    "withholding": 347,
    "net": 1653,
    "explain": ["method=formula_progressive period=weekly TFT=True STSL=False", "computed from gross=2000.0"]
  },
  "rates_version": "2024-25",
  "period_notice": {
    "rates_version": "2024-25",
    "warning": null
  }
}
```

The `period_notice` block mirrors what the UI shows, helping consumers warn when a request spans an upcoming rules change.
