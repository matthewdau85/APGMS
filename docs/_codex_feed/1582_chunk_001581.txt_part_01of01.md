# File: chunk_001581.txt (part 1 of 1)
```
SINGLE TOUCH PAYROLL (STP) PAYEVNT Technical interactions Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy This paper provides information to Digital service providers (DSPs) regarding four topics: • Partial File Rejection • SLA up to 72 hours • File Size Management • STP Service Recovery Strategy. 6th December 2017 Source: ATO-DSP Single Touch Payroll Technical Committee STPTC@ato.gov.au Summary Background/context Single Touch Payroll (STP) law was legislated on 16 September 2016, forming part of the Budget Savings (Omnibus) Act 2016. As part of the Single Touch Payroll (STP) program of work, the ATO is committed to working with industry and end users to deliver services which work well in the community. The ATO acknowledges its contribution is part of a wider payroll process. The ATO is working with DSPs on Single Touch Payroll to ensure smooth support for this new initiative. Through a series of Design & Technical Working Group sessions a number of concerns have been raised by DSPs. This document aims to describe the agreed resolution to these concerns. UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 2 Intent: Provide greater clarity to DSPs for development/ operation of STP. Partial File Rejection Rather than ensuring all messages in a lodgment are 100% valid, ATO will accept those messages it can. DSPs will then re-report the invalid messages in subsequent payroll runs or an update if necessary. SLA up to 72 hours The ATO will process the Payroll lodgments within 72 hours. It will make channel validations available within minutes to single digit hours – depending on size. File Size Management ATO will have infrastructure necessary to handle Payroll lodgments from the smallest to largest employers without impacting other SBR 2 workloads. STP Service Recovery Strategy • ATO is improving its availability – smarter use of parallel environments. • ATO is improving its resilience – eliminate/ reduce impact on consumers should environments become unavailable. • In the event of unavailability DSPs need to be able to re-send lodgments at a later time. • ATO is seeking input from community if there is anything they can naturally do to assist in recovery from an outage Scope Partial File Rejection change is in scope to be addressed by Q1 2018, tentatively • March 2018 for Prod, • End Jan 2018 for EVTE & UATI (including conformance suites) • artefacts required for build by end Dec ’17 as per details on the ATO eCommerce Schedules page Until these dates, the existing production solution remains in place. It is probable that some of the availability work will spill over past Q1 2018. . Design Considerations/ Principles The ATO will collaborate and co-design with industry and end users to understand and deliver user-centric solutions. Solutions need to support employers with differing levels of digital capability. Partial File Rejection UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 3 What & Why • For the Payroll Event lodgment, the ATO will introduce a new processing pattern for handling rejections. • The current approach for Payroll Events follows an all or nothing approach where all messages must be valid to accept the lodgment. • The proposed new pattern is to accept the Payroll Event lodgment if: o Employer Payroll Event message is valid (both channel validation and backend processing) and o at least one Employee Payroll Event message is valid. This change is being introduced because: o It is inefficient and unproductive for stakeholders to have to resend valid & re-process Employee Payroll Event messages just because a sibling message has failed. o With this new pattern DSPs will not even have to resend the failed messages from this payroll run, if circumstances are right they can just report the YTD figures in the next payroll run. o Some DSPs pay a transmission and/or byte charge to send lodgments through gateways. Therefore having to re-process & re-send otherwise successful messages in a needless charge. Partial File Rejection UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 4 Lodgment is accepted if Employer message is valid and at least one Employee message is valid. ATO Initial Submission Prepare, Validate and Send Payroll Event Message Authenticate & Receive Payroll Event Message Return technical receipt Receive technical receipt Verify SBR ebMS3 structure Success? Is Employer and at least one Employee Message valid? Transform and Process Employer Message in Backend System Has Employer Message been processed OK? Validate all Logical Documents (Employer and all Employee Messages) against schema Transform and process All Employee Message messages in Backend BMS polls for response – before it is there Response not available yet Pull SBR for the response Get exception from SBR indicating that response is not available yet 1 2 3 4 5 9 8 7 15 14 13 11 10 Return Channel Validation Results for Employer & Employee Messages as well as Backend results for Employer Message 12 Explanation of steps Initial Submission 1. Client BMS prepares payload for the payroll event message (can be initiated by Employer, Intermediary, Payroll Provider. Alternative scenario - investment is being made to ensure SBR2 is always available, but it would be prudent for DSPs to anticipate
```

