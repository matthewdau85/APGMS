# File: chunk_001585.txt (part 1 of 1)
```
overuse by DSPs. • Once a technical receipt has been received ATO SLA indicates the payroll event lodgment will be processed within 72 hours. o That is, no longer than after 72 hours (usually a lot shorter), employees should be able see payment summary on ATO Online. o After 72 hours DSPs should give up polling for a response and contact the ATO Number of Employees Initial Polling Subsequent Polling Fully Processed Less than 100 1 Mins After another 1 Minutes, and then every 5 Minutes 72 hrs 101-200 2 Mins After another 2 mins, then every 10 mins 201-1000 10 Mins After a further 10 mins, then every 20 mins 1000 & up 1 hour After a further 30 mins, then every hour File size management – Main points to note UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 9 • A discussion thread on the ABSIA forum highlighted the following concerns: o Time-out periods for uploading large lodgments over slow network connections o ATO ability to hold large lodgments o Suitability of XML for large documents. o Suitability of STP data for compression • The ATO will size and tune its systems to handle more than the largest possible lodgments; this is currently understood to be 200K employees. In general, the SBR infrastructure has been specified to handle lodgments many times larger than 200K employees o Currently, in prod, SBR2 handles messages of 380 K (~ 2.5 Gb raw content) – this takes 8 hrs • There is no issue on the ATO side about waiting for upload timeframes. SBR2 will wait as long as it takes to receive large files. • Internal ATO SBR2 performance testing has demonstrated it can process a 200k employee file – specified as XML. In general XML data is a good candidate for compression. • So from an ATO perspective, we believe we are on track to handle a single lodgment as large as any employer will send us; so nothing special will need to be done to artificially break this lodgment up. • We recognise that from a “sender” point of view, they too will need to have infrastructure capable of constructing and sending lodgments of this size. We assume that by the time an Employer gets to this size they will be used to dealing this this kind of infrastructure need. • If for some reason employers do wish to break up lodgments they may do so by either: o having different payment dates o having different branches o having different BMS IDs. • If feedback from employers/ DSPs is they want to break lodgments up but don’t want to use one of these mechanisms, modification to the message design will be required. No options for an alternative break-up approach are proposed – pending identification of the need. File size management – Main points to note UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 10 • ATO expressed the view that concern over large lodgements is speculation until performance testing highlights problem. (as at Oct ‘18) o This is a high focus activity in the ATO. o SBR 2 is a multi-server (currently 40+), multi-threaded environment – it will be possible to tune it. o There is consideration for providing a dashboard to show workload information about SBR 2 to externals. Feedback has been received that while such a dashboard would be useful/ reassuring, it would be unrealistic to expect DSPs/ Employers to hold off submitting a lodgment because they see that the system is “under load”. DSPs should be prepared for the possibility that they cannot upload a file now and will need to resubmit later. This suggests DSPs should have their own queues and be able to resubmit when necessary. o For XBRL lodgments there is an upper size. XBRL imposes a need to chop-up lodgments as with XBRL it is possible the last byte of a document can affect very start of a document; thus the whole thing must be held in memory. For B2B there is a limit of 10K logical docs, for B2G the record delimiter essentially means a single logical document per XBRL document. This constraint doesn’t exist with plain XML used by STP; although the record delimiter solution is also applied to XML. o It is possible for payroll providers to submit a transmission as a batch of bulk payroll events. While not mandated, it probably makes most sense to only have one employer in a transmission (see submission guidelines in CMIG). • A technical focus group discussion also identified a concern that small lodgments (STP, PLS or Super) may get stuck behind a large STP lodgment. o The ATO was asked to consider making DSPs split large lodgments into smaller ones. o The concern being that SBR 2’s machine resources (CPU/ Memory/ etc) may be consumed on large lodgments. STP Service recover strategy– Main points to note UNCLASSIFIED – PAYEVNT Technical interactions - Clarification on Partial File Rejection, SLA, File Size, Recovery Strategy Single Touch Payroll Technical Committee (STPTC@ato.gov.au) 6th December 2017 11 • The ATO recognises some, but not all, lodgments can be held by the DSPs in the event of outages. o It is yet to be fully
```

